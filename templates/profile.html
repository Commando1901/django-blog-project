{% extends "base.html" %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User Profile</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f6fa;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 1000px;
      margin: 40px auto;
      padding: 0 20px;
    }

    /* Profile Header */
    .profile-header {
      display: flex;
      align-items: center;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .profile-header img {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      object-fit: cover;
      margin-right: 20px;
    }

    .profile-info h2 {
      margin: 0;
      font-size: 24px;
    }

    .profile-info p {
      margin: 4px 0;
      color: #666;
    }

    /* Stats */
    .stats {
      display: flex;
      justify-content: space-around;
      background: #fff;
      margin: 20px 0;
      padding: 15px 0;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .stat {
      text-align: center;
    }

    .stat h3 {
      margin: 0;
      font-size: 22px;
    }

    .stat span {
      font-size: 14px;
      color: #777;
    }

   /* Blog list */
    .blog-card2 {
            background: #f9fafb;
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 18px;
            border: 1px solid #ececec;
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }

        .blog-card2:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 28px rgba(0,0,0,0.1);
        }

        .blog-card2 h4 {
            font-size: 17px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .blog-card2 p {
            font-size: 14px;
            color: #555;
            line-height: 1.6;
        } 

    @media (max-width: 600px) {
      .profile-header {
        flex-direction: column;
        text-align: center;
      }

      .profile-header img {
        margin-bottom: 10px;
      }

      .stats {
        flex-direction: column;
        gap: 10px;
      }
    }
  </style>
</head>
<body>

  <div class="container">

    <!-- Profile Header -->
    <div class="profile-header">
      <img src="https://via.placeholder.com/150" alt="Profile Picture">
      <div class="profile-info">
        <h2><strong>Username: </strong>{{user_obj.username}}</h2>
        <p><strong>Email: </strong>{{ user_obj.email }}</p>
        <p><strong>Bio: </strong>{{ profile.bio }}</p>
        <p><strong>Joined: </strong>{{ user_obj.date_joined }}</p>
        {% comment %} {% if is_own_profile %}
          <a href="{% url 'edit_profile' %}">Edit Profile</a>
        {% endif %}   {% endcomment %}
      </div>
    </div>

    <!-- Stats -->
    <div class="stats">
      <div class="stat">
        <h3>{{ total_posts }}</h3>
        <span><strong>Posts</strong></span>
      </div>
      <div class="stat">
        <h3>{{ total_likes }}</h3>
        <span><strong>Likes</strong></span>
      </div>
      <div class="stat">
        <h3>{{ total_comments }}</h3>
        <span><strong>Comments</strong></span>
      </div>
    </div>

    <h1><strong>Blogs :</strong></h1>

    <!-- Blog List -->
    {% if user_posts %}
      {% for post in user_posts %}
        <div class="blog-card2">
          <h4>{{ post.title }}</h4>
          <p>{{ post.content|slice:":120" }}...</p>
        </div>
     {% endfor %}
    {% else %}
      <p>No posts yet.</p>
    {% endif %}

  </div>

</body>
</html>

{% endblock %}